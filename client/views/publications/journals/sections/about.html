<template name="aboutTopics">
    <div class="tabbable">
        <div class="col-xs-3">
            <ul class="nav nav-pills nav-stacked aboutNavTabs">
                <li class="active"><a class="activeButton" data-aboutid="a" href="#a"  data-toggle="tab">{{_ "Editorial Policies"}}</a></li>
                <li><a class="activeButton" data-aboutid="b" href="#b"  data-toggle="tab">{{_ "Readers"}}</a></li>
                <li><a class="activeButton" data-aboutid="c" href="#c"  data-toggle="tab">{{_ "Contact"}}</a></li>
            </ul>
        </div>
        <div class="tab-content col-xs-9">
            <div class="tab-pane active" id="a"><div class="part"><strong>{{_ "Editorial Policies"}}</strong><div class="pull-right">{{#if can "add-about-articles" "resource"  }}{{> addAboutArticlesModalForm}}{{/if}}</div></div><hr>
                {{> aboutArticlesList}}
            </div>
            <div class="tab-pane" id="b"><div class="part"><strong>{{_ "Readers"}}</strong><div class="pull-right">{{#if can "add-about-articles" "resource"  }}{{> addAboutArticlesModalForm}}{{/if}}</div></div><hr>
                {{> aboutArticlesList}}
            </div>
            <div class="tab-pane" id="c"><div class="part"><strong>{{_ "Contact"}}</strong></div><hr>
                {{> editorialMemberList}}
            </div>
        </div>
    </div>
</template>

<template name="aboutArticlesList">
    {{#each aboutArticle}}
        <div class="part"><p>
            <strong>{{translateThis title.cn title.en}}&nbsp;：</strong>

            <div class="pull-right">
                {{#if can "modify-about-articles" "resource"  }}
                    {{> updateAboutArticlesModalForm}}
                {{/if}}
                {{#if can "delete-about-articles" "resource"  }}
                    {{> deleteAboutArticlesModalForm}}
                {{/if}}
            </div>
            </p>
            <p>
                {{{translateThis description.cn description.en}}}
            </p>
        </div>
    {{else}}
        {{_ "No AboutArticle found!"}}
    {{/each}}
</template>

<template name="editorialMemberList">
    <div class="part">
        <p>
            {{#each publications}}
                {{title}}<br>投稿问题及查询事宜<br> E-mail：{{email}}<br>地址：{{translateThis addressCn addressEn}}<br>电话：{{phone}}<br>传真：{{fax}}{{#if can "modify-journal" "resource"  }}{{> updatePublicationEmailModalForm}}{{/if}}
                {{else}}
                {{_ "No publications found!"}}
            {{/each}}
        </p>
    </div>
        <p>
            <strong>编辑部成员简介</strong>
            <div class="pull-right">
                {{#if can "modify-editorial-member" "resource"  }}{{> addEditorialMemberModalForm}}{{/if}}
            </div>
        </p>
        {{#each members}}
            <div class="part">
                <p>
                    <img src="{{getImageHelper picture}}" width="89" height="89"/>{{{translateThis abstract.cn abstract.en}}}
                    {{#if can "modify-editorial-member" "resource"  }}{{> updateEditorialMemberModalForm}}{{/if}}&nbsp;&nbsp;{{#if can "delete-editorial-member" "resource"  }}{{> deleteEditorialMemberModalForm}}{{/if}}
                </p>
            </div>
            {{else}}
            {{_ "No results found!"}}
        {{/each}}
</template>

<template name="addAboutArticlesModalForm">
    {{#afModal formId="addAboutArticlesModal" class="fa fa-plus" collection="AboutArticles" operation="insert" omitFields="about,publications" title=getCreateButtonContent}}{{/afModal}}
</template>

<template name="updateAboutArticlesModalForm">
    {{#afModal class="fa fa-pencil" title=getUpdateButtonContent collection="AboutArticles" doc=_id operation="update" omitFields="about,publications"}}{{/afModal}}
</template>

<template name="deleteAboutArticlesModalForm">
    {{#afModal class="fa fa-trash" collection="AboutArticles" operation="remove" doc=_id prompt=getPrompt}}{{/afModal}}
</template>


<template name="addEditorialMemberModalForm">
    {{#afModal formId="addEditorialMemberModal" class="fa fa-plus" collection="EditorialMember" operation="insert" omitFields="about,publications" title=getCreateButtonContent}}{{/afModal}}
</template>

<template name="updateEditorialMemberModalForm">
    {{#afModal class="fa fa-pencil" title=getUpdateButtonContent collection="EditorialMember" doc=_id operation="update" omitFields="about,publications"}}{{/afModal}}
</template>

<template name="deleteEditorialMemberModalForm">
    {{#afModal class="fa fa-trash" collection="EditorialMember" operation="remove" doc=_id prompt=getPrompt}}{{/afModal}}
</template>


<template name="updatePublicationEmailModalForm">
    {{#afModal class="fa fa-pencil" title=getUpdateButtonContent collection="Publications" doc=_id operation="update" fields="email,addressEn,addressCn,phone,fax" buttonContent=getUpdateButtonContent}}
    {{/afModal}}
</template>