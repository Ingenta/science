<template name="articleList">
    <div class="row">
        <div class="col-xs-3">
            {{> journalCoverSummary}}
            {{> articleListTree}}
        </div>
        <div class="col-xs-9">
            {{> articleListRight pubStatus="normal"}}
        </div>
    </div>
</template>

<template name="articleListTree">
    <ul class="list-unstyled">
        {{#each volumeList _id}}
            <li class="volume">
                <span class="fa fa-plus"> {{_ "volumeItem" volume }}</span>
            </li>
            <div id="vol_{{_id}}" class="issues">
                {{#each issueList journalId volume}}
                    <div class="issue" data-value="{{_id}}">{{_ "issueItem" issue }}（{{year}}, {{month}}）</div>
                {{/each}}
            </div>
        {{/each}}
    </ul>
</template>

<template name="articleListRight">
    {{#if normal}}
    <h4>{{getIssueTitle}}</h4>
    {{#with issueContext}}
        {{#if can "modify-journal" "resource" }}
            <div class="pull-right">
                {{> updateIssueDescriptionModalForm}}
            </div>
        {{/if}}
        {{#if description}}
            {{description}}
        {{else}}
            {{#if can "modify-journal" "resource" }}
                {{_ "No Cover Description"}}
            {{/if}}
        {{/if}}
    {{/with}}
    <hr>
    {{resetArticlesFilter}}
    {{/if}}
    <ul class="article-list list-unstyled">
        {{#each articles}}
            {{> oneArticle}}
        {{else}}
            {{_ "No articles found!"}}
        {{/each}}
    </ul>
</template>
