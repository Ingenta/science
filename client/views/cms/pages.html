<template name="pageElement">
    <div class="row">
        {{#if isHomePage key}}
            {{setHomePageElement key}}
        {{/if}}
        {{#unless isHomePage key}}
            <h2>{{getPageTitle key}}</h2>
        {{/unless}}
        {{#if isHomePage key}}
            {{#if can "edit-page-description" "platform"}}
                <div class="pull-right">
                    {{> updateHomePagesModalForm}}
                </div>
            {{/if}}
        {{/if}}
        {{#unless isHomePage key}}
            {{#if can "edit-page-description" "platform"}}
                <div class="pull-right">
                    {{> updatePagesModalForm}}
                </div>
            {{/if}}
        {{/unless}}
    </div>
    <div class="row">
        <p>{{{getPageDescription key}}}</p>
    </div>
</template>

<template name="updateHomePagesModalForm">
    {{#afModal class="fa fa-pencil" collection="PageHeadings" operation="update" doc=getPageId prompt=getPrompt buttonContent=getUpdateButtonContent omitFields="key,title"}}
    {{/afModal}}
</template>

<template name="updatePagesModalForm">
    {{#afModal class="fa fa-pencil" collection="PageHeadings" operation="update" doc=getPageId prompt=getPrompt buttonContent=getUpdateButtonContent omitFields="key"}}
    {{/afModal}}
</template>