<template name="Topics">

    <div class="page-container container">
        <div class="row">
            <h2>{{_ "Topics"}}</h2>
        </div>
        <div class="row">
            {{#if isAdmin }}
            {{> addTopicModalForm}}
            {{/if}}
        </div>
        <hr>
        <div class="row">
            {{> TopicList}}
        </div>
        <!-- <div id="topicTree"></div> -->
    </div>

</template>

<template name="TopicList">
    <ul class="list-unstyled">
        {{#each topics}}
        {{> SingleTopic}}
        {{else}}
        {{_ "No topics found!"}}
        {{/each}}
    </ul>
</template>

<template name="SingleTopic">
        {{#if subTopicCount name}}
        <li style="list-style-type:none;cursor:pointer">
            {{#if isExpand name}}
                <i class="fa fa-minus" type="button"></i>
            {{else}}
                <i class="fa fa-plus" type="button"></i>
            {{/if}}
            {{name}}
        </li>
            {{else}}
        <li style="list-style-type:none;">{{name}}</li>
        {{/if}}

    <hr style="margin-bottom: 5px; margin-top: 5px">
    {{#if isExpand name}}
        <div>
            {{#each subTopics name}}
            <ul>
                {{> SingleTopic}}
            </ul>
            {{/each}}
        </div>
    {{/if}}
</template>

<template name="addTopicModalForm">
    {{#afModal class="fa fa-plus btn btn-success" collection="Topics" operation="insert"}}
    {{_ "Add new"}}
    {{/afModal}}
</template>