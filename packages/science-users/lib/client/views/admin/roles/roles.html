<template name="AdminRoles">
    <div class="container-fluid" id="content">
        <div class="row" id="title_row">
            <div class="col-xs-12">
                <div id="page_menu" class="pull-right">
                </div>
            </div>
        </div>
        {{> AdminRolesView}}
    </div>
</template>


<template name="AdminRolesView">
    <div id="data_view" class="">
        <h2 id="component-title">
            {{_ "Roles"}}
        </h2>
        <form id="dataview-controls" class="form-inline">
            <div id="dataview-controls-insert" class="form-group ">
                <button type="submit" id="dataview-insert-button" class="btn btn-success">
                    <span class="fa fa-plus">
                    </span>
                    {{_ "Add new"}}
                </button>
            </div>
        </form>
        <div id="dataview-data">
            {{> RolesViewTable}}
        </div>
    </div>
</template>

<template name="RolesViewTable">
    <table id="dataview-table" class="table table-striped table-hover">
        <thead id="dataview-table-header">
        <tr id="dataview-table-header-row">
            <th>
                {{_ "roleName"}}
            </th>
	        <th>
		        {{_ "roleSummary"}}
	        </th>
            <th>
                &nbsp;
            </th>
        </tr>
        </thead>
        <tbody id="dataview-table-items">
        {{#each rolesKeys "permissions:"}}
	        {{> DefinedRolesView}}
        {{/each}}
        {{#each pkgRolesKeys}}
	        {{> DefinedRolesView}}
        {{/each}}

        {{> CustomRoleView}}

        </tbody>
    </table>
</template>

<template name="DefinedRolesView">
    <tr id="dataview-table-items-row">
	    {{#with rolesDescription this}}
	    <td>{{name}}</td>
	    <td>{{summary}}</td>
	    {{/with}}
        <td class="td-icon"></td>
    </tr>
</template>

<template name="CustomRoleView">
	{{#each customRolesInfo}}
	<tr id="dataview-table-items-row">

		<td>{{name}}</td>
		<td>{{summary}}</td>
		<td class="td-icon">
			<!--<span class="fa fa-pencil " title="Edit"></span>-->
			<span class="fa fa-plus" title="{{_ 'choosePermissions'}}"></span>
            <span class="fa fa-trash " title="{{_ 'deleteRole'}}"></span>
		</td>
	</tr>
	{{/each}}
</template>