<template name="UserSettingsUpdateInformation">
	<div class="container-fluid" id="content">
		<div class="row" id="title_row">
			<div class="col-xs-12">
				<div id="page_menu" class="pull-right">
				</div>
			</div>
		</div>
		{{> UserSettingsUpdateInformationForm}}
	</div>
</template>

<template name="UserSettingsUpdateInformationForm">
	<div class="">
		<h2 id="component-title">
			{{_ "Please update your registered information (optional)"}}:
		</h2>
		<form id="form" role="form">
			{{#if errorMessage}}
			<div class="alert alert-warning">
				{{errorMessage}}
			</div>
			{{/if}}

			{{#if infoMessage}}
			<div class="alert alert-success">
				{{infoMessage}}
			</div>
			{{/if}}
			<div class="form-group  field-profile-surname">
				<label for="profile.surname">
					{{_ "Your real name"}}:
				</label>
				<div class="input-div">
					<input type="text" name="profile.realname" value="{{current_user_data.profile.realname}}" class="form-control" autofocus="autofocus" required="required" data-type="string">
					<span id="help-text" class="help-block">
					</span>
					<span id="error-text" class="help-block">
					</span>
				</div>
			</div>
			<div class="form-group  field-profile-institution">
				<label for="profile.institution">
					{{_ "Institutional"}}:
				</label>
				<div class="input-div">
					<input type="text" name="profile.institution" value="{{current_user_data.profile.institution}}" class="form-control" autofocus="autofocus" required="required" data-type="string">
					<span id="help-text" class="help-block">
					</span>
					<span id="error-text" class="help-block">
					</span>
				</div>
			</div>
			<div class="form-group  field-profile-field">
				<label for="profile.field">
					{{_ "Your field of study"}}:
				</label>
				<div class="input-div">
					<input type="text" name="profile.field" value="{{current_user_data.profile.field}}" class="form-control" autofocus="autofocus" required="required" data-type="string">
					<span id="help-text" class="help-block">
					</span>
					<span id="error-text" class="help-block">
					</span>
				</div>
			</div>
			<div class="form-group  field-profile-journal">
				<label for="profile.journal">
					{{_ "In the name of the journal concerned"}}:
				</label>
				<div class="input-div">
					<input data-toggle="modal" value='{{_ "Please select more journal name"}}' data-target="#Modal1" style="width:100%;background-color: #dddddd;">
					<span id="help-text" class="help-block">
					</span>
					<span id="error-text" class="help-block">
					</span>
				</div>
				<div class="modal fade" id="Modal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				   <div class="modal-dialog">
					  <div class="modal-content">
						 <div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
							<h3 class="modal-title" id="myModalLabel">
							   {{_ "Journal name"}}
							</h3>
						 </div>
						 <div class="modal-body">
						    <h5>
								<input id="checkAll1" type="checkbox"/>&nbsp;&nbsp;{{_ "All the options"}}<hr>
								{{#each publicationList}}
								<input type="checkbox" name="profile.publications" value="{{_id}}">&nbsp;&nbsp;{{title}}<br>
								{{else}}
								{{_ "No publications found!"}}
								{{/each}}
							</h5>
						 </div>
						 <div class="modal-footer">
							<button type="button" class="btn btn-default" 
							   data-dismiss="modal">
							   {{_ "Cancel"}}
							</button>
							<button type="button" class="btn btn-primary">
							   {{_ "OK"}}
							</button>
						 </div>
					  </div>
				   </div>
				</div>
			</div>
			<div class="form-group  field-profile-subject">
				<label for="profile.subject">
					{{_ "Please select a subject type"}}:
				</label>
				<div class="input-div">
					<input data-toggle="modal" value='{{_ "Please select a subject matter (level 1)"}}' data-target="#Modal2" style="width:100%;background-color: #dddddd;">
					<span id="help-text" class="help-block">
					</span>
					<span id="error-text" class="help-block">
					</span>
				</div>
				<div class="modal fade" id="Modal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				   <div class="modal-dialog">
					  <div class="modal-content">
						 <div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
							<h3 class="modal-title" id="myModalLabel">
							   {{_ "The topic name"}}
							</h3>
						 </div>
						 <div class="modal-body">
							<h5>
								<input id="checkAll2" type="checkbox" />&nbsp;&nbsp;{{_ "All the options"}}<hr>
								{{#each topicList}}
								<input type="checkbox" name="profile.topics" value="{{_id}}">&nbsp;&nbsp;{{name}}<br>
								{{else}}
								{{_ "No topics found!"}}
								{{/each}}
							</h5>
						 </div>
						 <div class="modal-footer">
							<button type="button" class="btn btn-default" 
							   data-dismiss="modal">
							   {{_ "Cancel"}}
							</button>
							<button type="button" class="btn btn-primary">
							   {{_ "OK"}}
							</button>
						 </div>
					  </div>
				   </div>
				</div>
			</div>
			<div class="form-group  field-profile-phone">
				<label for="profile.phone">
					{{_ "Contact way"}}:
				</label>
				<div class="input-div">
					<input type="text" name="profile.phone" value="{{current_user_data.profile.phone}}" class="form-control" autofocus="autofocus" required="required" data-type="string">
					<span id="help-text" class="help-block">
					</span>
					<span id="error-text" class="help-block">
					</span>
				</div>
			</div>
			<div class="form-group  field-profile-address">
				<label for="profile.address">
					{{_ "Contact address"}}:
				</label>
				<div class="input-div">
					<input type="text" name="profile.address" value="{{current_user_data.profile.address}}" class="form-control" autofocus="autofocus" required="required" data-type="string">
					<span id="help-text" class="help-block">
					</span>
					<span id="error-text" class="help-block">
					</span>
				</div>
			</div>
			<div class="form-group  field-profile-weChat">
				<label for="profile.weChat">
					{{_ "WeChat"}}:
				</label>
				<div class="input-div">
					<input type="text" name="profile.weChat" value="{{current_user_data.profile.weChat}}" class="form-control" autofocus="autofocus" required="required" data-type="string">
					<span id="help-text" class="help-block">
					</span>
					<span id="error-text" class="help-block">
					</span>
				</div>
			</div>
			<div class="form-group">
				<div class="submit-div">
					<button id="form-submit-button" class="btn btn-success" type="submit">
						<span class="fa fa-check">
						</span>
						{{_ "Save"}}
					</button>
				</div>
			</div>
		</form>
	</div>
</template>